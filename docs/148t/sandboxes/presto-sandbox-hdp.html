

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.3. Installing a Presto VM Sandbox for HDP &mdash; Teradata Distribution of Presto 0.148-t.1.2 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/teradata.css" type="text/css" />
  

  

  
    <link rel="top" title="Teradata Distribution of Presto 0.148-t.1.2 Documentation" href="../index.html"/>
        <link rel="up" title="4. Presto Installation on a Sandbox VM" href="../sandbox-vms.html"/>
        <link rel="next" title="5. Presto Server Installation on a Cluster (Ambari)" href="../server-installation-cluster-automated.html"/>
        <link rel="prev" title="4.2. Installing a Presto VM Sandbox for CDH" href="presto-sandbox-cdh.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Teradata Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.148-t.1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sandbox-vms.html">4. Presto Installation on a Sandbox VM</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="system-requirements-sandboxes.html">4.1. System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="presto-sandbox-cdh.html">4.2. Installing a Presto VM Sandbox for CDH</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.3. Installing a Presto VM Sandbox for HDP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jdbc-driver">JDBC Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hadoop-services-startup">Hadoop Services Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vm-networking">VM Networking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-automated.html">5. Presto Server Installation on a Cluster (Ambari)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-manual.html">6. Presto Server Installation on a Cluster (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-aws-emr-manual.html">7. Presto Server Installation on an AWS EMR (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">8. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/presto-admin/user-guide.html">9. Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yarn.html">10. YARN Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">11. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">12. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">13. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">18. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Teradata Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../sandbox-vms.html">4. Presto Installation on a Sandbox VM</a> &raquo;</li>
      
    <li>4.3. Installing a Presto VM Sandbox for HDP</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/sandboxes/presto-sandbox-hdp.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-a-presto-vm-sandbox-for-hdp">
<h1>4.3. Installing a Presto VM Sandbox for HDP</h1>
<p>The following link is to a VirtualBox sandbox image that can be used to experiment with the Presto distribution.</p>
<div class="line-block">
<div class="line">Download <strong>presto-0.141t-demo-hdp.ova</strong> from <a class="reference external" href="https://www.teradata.com/presto">https://www.teradata.com/presto</a></div>
<div class="line"><br /></div>
</div>
<p>The credentials for the VM are:</p>
<blockquote>
<div><div class="line-block">
<div class="line">user: <strong>presto</strong></div>
<div class="line">password: <strong>presto</strong></div>
</div>
</div></blockquote>
<p>The image is based on CentOS 6.7 and contains the following components:</p>
<blockquote>
<div><ul class="simple">
<li>Presto is installed in <code class="docutils literal"><span class="pre">/usr/lib/presto</span></code>. It is set up with Hive, TPCH and JMX connectors. Logs are located in <code class="docutils literal"><span class="pre">/var/log/presto</span></code>.</li>
<li><code class="docutils literal"><span class="pre">presto-admin</span></code> is installed in <code class="docutils literal"><span class="pre">/opt/prestoadmin</span></code>. You can run presto-admin by executing: <code class="docutils literal"><span class="pre">/opt/prestoadmin/presto-admin</span></code>.</li>
<li>For documentation of the Presto release embedded in the VM see: <a class="reference internal" href="../index.html"><span class="doc">Presto Documentation</span></a>.</li>
</ul>
</div></blockquote>
<p>In addition, the image contains:</p>
<blockquote>
<div><ul class="simple">
<li>The Hortonworks Hadoop distribution, version 2.3, running in pseudo distributed mode.</li>
<li>Hive (set up to use YARN).</li>
<li>Hive Metastore.</li>
<li>Zookeeper (used by Hive).</li>
<li>MySQL (used by Hive Metastore).</li>
</ul>
</div></blockquote>
<p>The following sample tables are loaded to HDFS and are visible from Hive:</p>
<blockquote>
<div><ul class="simple">
<li>TPC-H nation table.</li>
<li>TPC-H region table.</li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal"><span class="pre">presto-cli</span></code> executable JAR can be found in <code class="docutils literal"><span class="pre">/home/presto</span></code> and should be used to execute Presto queries.
Please wait a few moments after the image boots for the Presto service to start.</p>
<p>Usage example:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">presto</span><span class="o">@</span><span class="n">presto</span><span class="o">-</span><span class="n">demo</span><span class="o">-</span><span class="n">hdp</span> <span class="o">~</span><span class="p">]</span><span class="o">#</span> <span class="n">java</span> <span class="o">-</span><span class="n">jar</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">presto</span><span class="o">/</span><span class="n">presto</span><span class="o">-</span><span class="n">cli</span><span class="p">.</span><span class="n">jar</span> <span class="c1">--catalog hive --schema default</span>
<span class="k">show</span> <span class="n">tables</span><span class="p">;</span>
 <span class="k">Table</span>
<span class="c1">--------</span>
 <span class="n">nation</span>
 <span class="n">region</span>
<span class="p">(</span><span class="mi">2</span> <span class="k">rows</span><span class="p">)</span>

<span class="n">presto</span><span class="p">:</span><span class="k">default</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">nation</span><span class="p">;</span>
<span class="p">...</span>
</pre></div>
</div>
<div class="section" id="jdbc-driver">
<h2>JDBC Driver</h2>
<p>You can also find the Presto JDBC JAR on the VM (<code class="docutils literal"><span class="pre">/home/presto/presto-jdbc.jar</span></code>). It can be used
to connect to the Presto server running in the VM from your Java application.</p>
</div>
<div class="section" id="hadoop-services-startup">
<h2>Hadoop Services Startup</h2>
<p>After the VM boots, some Hadoop services may still not be started. Starting them
takes a couple of minutes depending on the host machine. You can monitor the startup progress
of these services through the Ambari UI, which is accessible on port 8081 at <a class="reference external" href="http://[guest-ip-address]:8081/">http://[guest-ip-address]:8081/</a>.
In order to access Ambari from the host machine, you will need to change the network adaptor for the VM from NAT to the
Bridged Adaptor. The credentials are admin/admin.</p>
</div>
<div class="section" id="vm-networking">
<h2>VM Networking</h2>
<p>By default, the VM is configured to use NAT networking and will have an IP of 10.0.2.15 in VirtualBox.
For some systems with local firewalls or connected to VPN this may result in being unable to reach the presto
and various hadoop web UI pages.</p>
<p>To resolve this, enable port forwarding via the VirtualBox UI by navigating to your VM -&gt; settings -&gt; Network -&gt; Advanced.
Click on the &#8216;Port Forwarding&#8217; button and configure the ports you would like to forward from your local machine to the VM.
For example, 127.0.0.1:50070 -&gt; 10.0.2.15:50070 will enable access to the hadoop name node web UI.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../server-installation-cluster-automated.html" class="btn btn-neutral float-right" title="5. Presto Server Installation on a Cluster (Ambari)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="presto-sandbox-cdh.html" class="btn btn-neutral" title="4.2. Installing a Presto VM Sandbox for CDH" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.148-t.1.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>