

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>10.5. PostgreSQL Connector &mdash; Teradata Distribution of Presto 0.148-t.1 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/teradata.css" type="text/css" />
  

  

  
    <link rel="top" title="Teradata Distribution of Presto 0.148-t.1 Documentation" href="../index.html"/>
        <link rel="up" title="10. Connectors" href="../connector.html"/>
        <link rel="next" title="10.6. TPCH Connector" href="tpch.html"/>
        <link rel="prev" title="10.4. MySQL Connector" href="mysql.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Teradata Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.148-t.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sandbox-vms.html">4. Presto Installation on a Sandbox VM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-automated.html">5. Presto Server Installation on a Cluster (Ambari)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-manual.html">6. Presto Server Installation on a Cluster (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-aws-emr-manual.html">7. Presto Server Installation on an AWS EMR (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/presto-admin/user-guide.html">8. Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">9. Administration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">10. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="teradata.html">10.1. Teradata Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">10.2. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">10.3. Hive Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">10.4. MySQL Connector</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">10.5. PostgreSQL Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-postgresql-databases-or-servers">Multiple PostgreSQL Databases or Servers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#querying-postgresql">Querying PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postgresql-connector-limitations">PostgreSQL Connector Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">10.6. TPCH Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">10.7. System Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">10.8. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">10.9. Black Hole Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">11. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">12. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">13. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">14. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">15. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cassandra.html">Cassandra Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="kafka.html">Kafka Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="kafka-tutorial.html">Kafka Connector Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="localfile.html">Local File Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongodb.html">MongoDB Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis.html">Redis Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation-ambari.html">Automated Installation on a Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation-presto-admin.html">Manual Installation on a Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation-yarn-automated.html">Automated Installation on a YARN-Based Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation-yarn-manual.html">Manual Installation on a YARN-Based Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yarn.html">YARN Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Teradata Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html">10. Connectors</a> &raquo;</li>
      
    <li>10.5. PostgreSQL Connector</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/connector/postgresql.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="postgresql-connector">
<h1>10.5. PostgreSQL Connector</h1>
<p>The PostgreSQL connector allows querying and creating tables in an
external PostgreSQL database. This can be used to join data between
different systems like PostgreSQL and Hive, or between two different
PostgreSQL instances.</p>
<div class="section" id="configuration">
<h2>Configuration</h2>
<p>To configure the PostgreSQL connector, create a catalog properties file
in <code class="docutils literal"><span class="pre">etc/catalog</span></code> named, for example, <code class="docutils literal"><span class="pre">postgresql.properties</span></code>, to
mount the PostgreSQL connector as the <code class="docutils literal"><span class="pre">postgresql</span></code> catalog.
Create the file with the following contents, replacing the
connection properties as appropriate for your setup:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>connector.name=postgresql
connection-url=jdbc:postgresql://example.net:5432/database
connection-user=root
connection-password=secret
</pre></div>
</div>
<div class="section" id="multiple-postgresql-databases-or-servers">
<h3>Multiple PostgreSQL Databases or Servers</h3>
<p>The PostgreSQL connector can only access a single database within
a PostgreSQL server. Thus, if you have multiple PostgreSQL databases,
or want to connect to multiple PostgreSQL servers, you must configure
multiple instances of the PostgreSQL connector.</p>
<p>To add another catalog, simply add another properties file to <code class="docutils literal"><span class="pre">etc/catalog</span></code>
with a different name (making sure it ends in <code class="docutils literal"><span class="pre">.properties</span></code>). For example,
if you name the property file <code class="docutils literal"><span class="pre">sales.properties</span></code>, Presto will create a
catalog named <code class="docutils literal"><span class="pre">sales</span></code> using the configured connector.</p>
</div>
</div>
<div class="section" id="querying-postgresql">
<h2>Querying PostgreSQL</h2>
<p>The PostgreSQL connector provides a schema for every PostgreSQL schema.
You can see the available PostgreSQL schemas by running <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code>:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">SCHEMAS</span> <span class="k">FROM</span> <span class="n">postgresql</span><span class="p">;</span>
</pre></div>
</div>
<p>If you have a PostgreSQL schema named <code class="docutils literal"><span class="pre">web</span></code>, you can view the tables
in this schema by running <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code>:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">TABLES</span> <span class="k">FROM</span> <span class="n">postgresql</span><span class="p">.</span><span class="n">web</span><span class="p">;</span>
</pre></div>
</div>
<p>You can see a list of the columns in the <code class="docutils literal"><span class="pre">clicks</span></code> table in the <code class="docutils literal"><span class="pre">web</span></code> database
using either of the following:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span> <span class="n">postgresql</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">COLUMNS</span> <span class="k">FROM</span> <span class="n">postgresql</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Finally, you can access the <code class="docutils literal"><span class="pre">clicks</span></code> table in the <code class="docutils literal"><span class="pre">web</span></code> schema:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">postgresql</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>If you used a different name for your catalog properties file, use
that catalog name instead of <code class="docutils literal"><span class="pre">postgresql</span></code> in the above examples.</p>
</div>
<div class="section" id="postgresql-connector-limitations">
<h2>PostgreSQL Connector Limitations</h2>
<p>The following SQL statements are not yet supported:</p>
<ul class="simple">
<li><a class="reference internal" href="../sql/insert.html"><span class="doc">INSERT</span></a></li>
<li><a class="reference internal" href="../sql/delete.html"><span class="doc">DELETE</span></a></li>
<li><a class="reference internal" href="../sql/alter-table.html"><span class="doc">ALTER TABLE</span></a></li>
<li><a class="reference internal" href="../sql/create-table.html"><span class="doc">CREATE TABLE</span></a> (<a class="reference internal" href="../sql/create-table-as.html"><span class="doc">CREATE TABLE AS</span></a> is supported)</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tpch.html" class="btn btn-neutral float-right" title="10.6. TPCH Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mysql.html" class="btn btn-neutral" title="10.4. MySQL Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.148-t.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>